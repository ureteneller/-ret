<!DOCTYPE html>
<html lang="tr" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ä°lan OluÅŸtur â€¢ Ãœreten Eller</title>
  <meta name="description" content="Ãœreten Eller'de ilan oluÅŸturun. Ã‡ok dilli arayÃ¼z: TR/EN/AR/DE. FotoÄŸraf Ã¶nizleme, kapak seÃ§imi ve silme desteklenir." />
  <link rel="icon" href="/assets/icons/favicon.png" />
  <style>
    /* === AÃ‡IK (BEYAZ) TEMA + DOLU BUTONLAR ===
       Not: Sadece CSS gÃ¼ncellendi. HTML ve JS'e dokunulmadÄ±. */
    :root{
      --bg1:#ffffff; --bg2:#ffffff;    /* beyaz arka plan */
      --card:#ffffff;                  /* kart zemini beyaz */
      --ink:#111827;                   /* ana metin */
      --muted:#6b7280;                 /* ikincil metin */
      --accent:#0ea5e9;                /* birincil vurgu */
      --ok:#16a34a; --warn:#f59e0b; --err:#ef4444;
      --brd:#e5e7eb;                   /* aÃ§Ä±k kenarlÄ±k rengi */
      --ink-inv:#ffffff;               /* koyu zemin Ã¼zeri metin */
    }

    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      background:#fff;                 /* beyaz zemin */
      color:var(--ink);
    }

    .wrap{max-width:960px;margin:24px auto;padding:16px}
    .card{
      background:var(--card);
      border:1px solid var(--brd);
      border-radius:18px;
      padding:20px;
      box-shadow:0 10px 30px rgba(17,24,39,.08);
    }

    .topbar{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .lang{display:flex;gap:8px;align-items:center}
    label{display:block;font-size:13px;color:var(--muted);margin:6px 0}

    /* Form alanlarÄ± aÃ§Ä±k tema */
    input,select,textarea{
      width:100%;
      background:#ffffff;
      color:var(--ink);
      border:1px solid var(--brd);
      border-radius:12px;
      padding:10px 12px
    }
    textarea{min-height:120px;resize:vertical}

    .previews{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:10px;margin-top:10px}
    .thumb{
      position:relative;border:1px solid var(--brd);border-radius:10px;overflow:hidden;
      background:#f9fafb;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:6px
    }
    .thumb img{width:100%;height:auto;max-height:220px;object-fit:contain;display:block;border-radius:8px;margin-bottom:6px}
    .thumb .btns{display:flex;gap:6px;justify-content:center;margin-bottom:4px}
    .thumb button{
      background:#111827;              /* DOLU buton */
      color:#fff;
      border:none;
      padding:4px 8px;
      font-size:12px;border-radius:6px;cursor:pointer
    }
    .thumb .cover{
      position:absolute;top:6px;left:6px;background:#16a34a;color:#ffffff;font-size:12px;padding:2px 6px;border-radius:8px;font-weight:700
    }

    .actions{display:flex;gap:8px;justify-content:flex-end}

    /* GENEL BUTONLAR: DOLU */
    button{
      cursor:pointer;
      border:1px solid transparent;
      background:#111827;              /* koyu dolu */
      color:var(--ink-inv);
      padding:10px 14px;border-radius:10px;font-weight:600
    }
    button:hover{filter:brightness(1.05)}
    button:disabled{opacity:.6;cursor:not-allowed}

    /* Birincil aksiyon: vurgu rengiyle dolu */
    button.primary{
      background:var(--accent);
      color:#ffffff;
      border:none;
      font-weight:700
    }

    .hint{font-size:12px;color:var(--muted)}

    /* Kapat (X) butonu: koyu dolu gÃ¶rÃ¼nÃ¼rlÃ¼k iÃ§in */
    .closeX{
      background:#111827;
      color:#ffffff;
      border:none;width:36px;height:36px;border-radius:999px;font-size:20px;line-height:36px;text-align:center;cursor:pointer;
      box-shadow:0 6px 20px rgba(17,24,39,.2)
    }
  </style>

    <!-- Firestore iÃ§in global yardÄ±mcÄ±larÄ± saÄŸlayan dosya -->
  <script type="module" src="/firebase-init.js"></script>

  <!-- >>> BURAYA YAPIÅTIR <<< -->
  <script type="module">
    import { getAuth, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/10.14.0/firebase-auth.js';

    (function protectPage(){
      try{
        const auth = getAuth(self.__fb?.app);
        onAuthStateChanged(auth, async (user) => {
          if (!user) { location.replace('/index.html'); return; }
          const usesPassword = user.providerData?.some(p => p.providerId === 'password');
          try { await user.reload(); } catch(_) {}
          if (usesPassword && !user.emailVerified) { location.replace('/index.html'); return; }
        });
      }catch(e){
        console.warn('protectPage hata', e);
        try{ location.replace('/index.html'); }catch(_){}
      }
    })();
  </script>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="topbar">
        <div>
          <h1 id="t_title">Ä°lan OluÅŸtur</h1>
          <p class="hint" id="t_sub">PREMIUM: <strong>10 ilan</strong>. FREE: <strong>5 ilan</strong>. TÃ¼m ilanlar <strong>30 gÃ¼n</strong> yayÄ±nda.</p>
        </div>
        <div class="lang">
          <label id="t_lang" for="langSel">Dil</label>
          <select id="langSel">
  <option value="tr">TÃ¼rkÃ§e</option>
  <option value="kktc">KKTC TÃ¼rkÃ§esi</option>
  <option value="en">English</option>
  <option value="de">Deutsch</option>
  <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
  <option value="az">AzÉ™rbaycan TÃ¼rkÃ§É™si</option>
  <option value="fa">ÙØ§Ø±Ø³ÛŒ</option>
</select>
        </div>
        <button id="closeBtn" class="closeX" aria-label="Kapat">Ã—</button>
      </div>

      <form id="listingForm" novalidate style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:10px">
        <div class="full" style="grid-column:1/-1">
          <label id="l_title">BaÅŸlÄ±k</label>
          <input id="title" required placeholder="Ã–rn: El yapÄ±mÄ± Ã¶rgÃ¼ bebek" maxlength="80" />
          <div class="hint" id="h_title">6â€“80 karakter</div>
        </div>
        <div class="full" style="grid-column:1/-1">
          <label id="l_description">AÃ§Ä±klama</label>
          <textarea id="description" required placeholder="ÃœrÃ¼nÃ¼ detaylÄ± anlatÄ±n" maxlength="3000"></textarea>
          <div class="hint" id="h_description">30â€“3000 karakter, uygunsuz iÃ§erik reddedilir.</div>
        </div>

        <div>
          <label id="l_category">Kategori</label>
          <select id="category" required></select>
        </div>
        <div>
          <label id="l_subcategory">Alt Kategori</label>
          <select id="subcategory" required disabled></select>
        </div>

                <div>
          <label id="l_country">Ãœlke</label>
          <select id="country" required>
  <option value="TR">TÃ¼rkiye</option>
  <option value="KKTC">Kuzey KÄ±brÄ±s (KKTC)</option>
  <option value="CY">GÃ¼ney KÄ±brÄ±s (KÄ±brÄ±s Cumhuriyeti)</option>
  <option value="DE">Almanya</option>
  <option value="AZ">Azerbaycan</option>
  <option value="IR">Ä°ran</option>
</select>
        </div>
        <div>
          <label id="l_province">Ä°l / BÃ¶lge</label>
          <select id="province" required></select>
        </div>
        <div>
          <label id="l_district">Ä°lÃ§e</label>
          <input id="districtInput" required placeholder="Ä°lÃ§enizi yazÄ±n" />
        </div>

        <div>
          <label id="l_price">Fiyat (TL)</label>
          <input id="price" type="number" min="1" step="1" placeholder="Ã–rn: 350" required />
        </div>
        <div>
          <label id="l_stock">Stok</label>
          <select id="stock" required>
            <option value="var">Var</option>
            <option value="yok">Yok</option>
          </select>
        </div>

        <div class="full" style="grid-column:1/-1">
          <label id="l_images">FotoÄŸraflar (en fazla 5)</label>
          <input id="images" type="file" accept="image/*" multiple />
          <div id="previews" class="previews"></div>
        </div>

        <div class="full actions" style="grid-column:1/-1">
          <button type="reset" id="b_cancel">Ä°ptal</button>
          <button type="submit" class="primary" id="b_submit">Kaydet</button>
        </div>

        <div class="full" style="grid-column:1/-1">
          <div id="msg" class="hint"></div>
        </div>
      </form>
    </div>
  </div>

  <!-- Toast (stil inline aynÄ± bÄ±rakÄ±ldÄ±) -->
  <div id="toast" style="position:fixed;left:50%;top:20px;transform:translateX(-50%) scale(0.95);opacity:0;transition:.25s;z-index:9999;background:#0e172a;border:1px solid #1f2937;color:#e5e7eb;padding:10px 14px;border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,.35);">YÃ¶netici onayÄ±ndan sonra yayÄ±nlanacaktÄ±r.</div>

  <!-- i18n + Ã¶nizleme -->
  <script>
  (function(){
    'use strict';

    // === i18n (TR / KKTC / EN / AR / DE / AZ / FA) ===
const i18n = {
  tr:{ title:"Ä°lan OluÅŸtur", sub:"PREMIUM: <strong>10 ilan</strong>. FREE: <strong>5 ilan</strong>. TÃ¼m ilanlar <strong>30 gÃ¼n</strong> yayÄ±nda.", lang:"Dil",
    l_title:"BaÅŸlÄ±k", h_title:"6â€“80 karakter",
    l_description:"AÃ§Ä±klama", h_description:"30â€“3000 karakter, uygunsuz iÃ§erik reddedilir.",
    l_category:"Kategori", l_subcategory:"Alt Kategori", l_province:"Ä°l", l_district:"Ä°lÃ§e",
    l_price:"Fiyat (TL)", l_stock:"Stok", l_images:"FotoÄŸraflar (en fazla 5)",
    btn_cancel:"Ä°ptal", btn_submit:"Ä°lana GÃ¶nder (Onaya)", toast_ok:"YÃ¶netici onayÄ±ndan sonra yayÄ±nlanacaktÄ±r.",
    placeholders:{ title:"Ã–rn: El yapÄ±mÄ± Ã¶rgÃ¼ bebek", desc:"ÃœrÃ¼nÃ¼ detaylÄ± anlatÄ±n", district:"Ä°lÃ§enizi yazÄ±n", price:"Ã–rn: 350" },
    stock:{var:"Var", yok:"Yok"},
    errors:{ title:"BaÅŸlÄ±k en az 6 karakter olmalÄ±.", desc:"AÃ§Ä±klama en az 30 karakter olmalÄ±.", cat:"Kategori seÃ§iniz.", sub:"Alt kategori seÃ§iniz.", prov:"Ä°l seÃ§iniz.", dist:"Ä°lÃ§e yazÄ±nÄ±z.", price:"Fiyat 1 TL ve Ã¼zeri olmalÄ±.", files:"En fazla 5 fotoÄŸraf yÃ¼kleyebilirsiniz.", filetype:"Sadece JPG/PNG/WebP kabul edilir.", auth:"Oturum bulunamadÄ±. LÃ¼tfen giriÅŸ yapÄ±n." },
    cover:"Kapak", coverMake:"Kapak Yap", del:"Sil", choose:"SeÃ§iniz"
  },

  kktc:{ title:"Ä°lan OluÅŸtur", sub:"PREMIUM: <strong>10 ilan</strong>. FREE: <strong>5 ilan</strong>. TÃ¼m ilanlar <strong>30 gÃ¼n</strong> yayÄ±nda (KKTC).", lang:"KKTC TÃ¼rkÃ§esi",
    l_title:"BaÅŸlÄ±k", h_title:"6â€“80 karakter",
    l_description:"AÃ§Ä±klama", h_description:"30â€“3000 karakter, uygunsuz iÃ§erik reddedilir.",
    l_category:"Kategori", l_subcategory:"Alt Kategori", l_province:"Åehir (KKTC)", l_district:"Ä°lÃ§e / BÃ¶lge",
    l_price:"Fiyat (TL)", l_stock:"Stok", l_images:"FotoÄŸraflar (en fazla 5)",
    btn_cancel:"Ä°ptal", btn_submit:"Ä°lana GÃ¶nder (Onaya)", toast_ok:"YÃ¶netici onayÄ±ndan sonra yayÄ±nlanacaktÄ±r.",
    placeholders:{ title:"Ã–rn: El yapÄ±mÄ± Ã¶rgÃ¼ bebek", desc:"ÃœrÃ¼nÃ¼ detaylÄ± anlatÄ±n", district:"BÃ¶lgenizi yazÄ±n", price:"Ã–rn: 350" },
    stock:{var:"Var", yok:"Yok"},
    errors:{ title:"BaÅŸlÄ±k en az 6 karakter olmalÄ±.", desc:"AÃ§Ä±klama en az 30 karakter olmalÄ±.", cat:"Kategori seÃ§iniz.", sub:"Alt kategori seÃ§iniz.", prov:"Åehir seÃ§iniz.", dist:"BÃ¶lge yazÄ±nÄ±z.", price:"Fiyat 1 TL ve Ã¼zeri olmalÄ±.", files:"En fazla 5 fotoÄŸraf yÃ¼kleyebilirsiniz.", filetype:"Sadece JPG/PNG/WebP kabul edilir.", auth:"Oturum bulunamadÄ±. LÃ¼tfen giriÅŸ yapÄ±n." },
    cover:"Kapak", coverMake:"Kapak Yap", del:"Sil", choose:"SeÃ§iniz"
  },

  en:{ title:"Create Listing", sub:"PREMIUM: <strong>10 listings</strong>. FREE: <strong>5 listings</strong>. All listings stay live for <strong>30 days</strong>.", lang:"Language",
    l_title:"Title", h_title:"6â€“80 characters",
    l_description:"Description", h_description:"30â€“3000 characters; inappropriate content is rejected.",
    l_category:"Category", l_subcategory:"Subcategory", l_province:"Province", l_district:"District",
    l_price:"Price (TRY)", l_stock:"Stock", l_images:"Photos (up to 5)",
    btn_cancel:"Cancel", btn_submit:"Submit for Review", toast_ok:"Will be published after admin approval.",
    placeholders:{ title:"e.g., Hand-knitted doll", desc:"Describe your product in detail", district:"Type your district", price:"e.g., 350" },
    stock:{var:"In stock", yok:"Out of stock"},
    errors:{ title:"Title must be at least 6 characters.", desc:"Description must be at least 30 characters.", cat:"Select a category.", sub:"Select a subcategory.", prov:"Select a province.", dist:"Enter a district.", price:"Price must be â‰¥ 1.", files:"You can upload up to 5 photos.", filetype:"Only JPG/PNG/WebP accepted.", auth:"No session. Please sign in." },
    cover:"Cover", coverMake:"Make Cover", del:"Delete", choose:"Select"
  },

  ar:{ title:"Ø¥Ù†Ø´Ø§Ø¡ Ø¥Ø¹Ù„Ø§Ù†", sub:"Ø§Ù„Ù…Ù…ÙŠØ²: <strong>10 Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</strong>. Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ: <strong>5 Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</strong>. ÙƒÙ„ Ø¥Ø¹Ù„Ø§Ù† ÙŠØ¨Ù‚Ù‰ <strong>30 ÙŠÙˆÙ…Ø§Ù‹</strong>.", lang:"Ø§Ù„Ù„ØºØ©",
    l_title:"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†", h_title:"6â€“80 Ø­Ø±ÙØ§Ù‹",
    l_description:"Ø§Ù„ÙˆØµÙ", h_description:"30â€“3000 Ø­Ø±ÙØ§Ù‹Ø› ÙŠØªÙ… Ø±ÙØ¶ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ØºÙŠØ± Ø§Ù„Ù…Ù„Ø§Ø¦Ù….",
    l_category:"Ø§Ù„ÙØ¦Ø©", l_subcategory:"Ø§Ù„ÙØ¦Ø© Ø§Ù„ÙØ±Ø¹ÙŠØ©", l_province:"Ø§Ù„ÙˆÙ„Ø§ÙŠØ©", l_district:"Ø§Ù„Ù‚Ø¶Ø§Ø¡",
    l_price:"Ø§Ù„Ø³Ø¹Ø± (Ù„ÙŠØ±Ø©)", l_stock:"Ø§Ù„ØªÙˆÙÙ‘Ø±", l_images:"ØµÙˆØ± (Ø­ØªÙ‰ 5)",
    btn_cancel:"Ø¥Ù„ØºØ§Ø¡", btn_submit:"Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©", toast_ok:"Ø³ÙŠÙÙ†Ø´Ø± Ø¨Ø¹Ø¯ Ù…ÙˆØ§ÙÙ‚Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©.",
    placeholders:{ title:"Ù…Ø«Ø§Ù„: Ø¯Ù…ÙŠØ© Ù…Ø­Ø§ÙƒØ©", desc:"ØµÙ Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ø§Ù„ØªÙØµÙŠÙ„", district:"Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ù‚Ø¶Ø§Ø¡", price:"Ù…Ø«Ø§Ù„: 350" },
    stock:{var:"Ù…ØªÙˆÙØ±", yok:"ØºÙŠØ± Ù…ØªÙˆÙØ±"},
    errors:{ title:"ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ø¹Ù†ÙˆØ§Ù† 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„.", desc:"Ø§Ù„ÙˆØµÙ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 30 Ø­Ø±ÙØ§Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„.", cat:"Ø§Ø®ØªØ± ÙØ¦Ø©.", sub:"Ø§Ø®ØªØ± ÙØ¦Ø© ÙØ±Ø¹ÙŠØ©.", prov:"Ø§Ø®ØªØ± ÙˆÙ„Ø§ÙŠØ©.", dist:"Ø£Ø¯Ø®Ù„ Ø§Ù„Ù‚Ø¶Ø§Ø¡.", price:"Ø§Ù„Ø³Ø¹Ø± ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† â‰¥ 1.", files:"ÙŠÙ…ÙƒÙ†Ùƒ Ø±ÙØ¹ Ø­ØªÙ‰ 5 ØµÙˆØ±.", filetype:"ÙŠÙÙ‚Ø¨Ù„ ÙÙ‚Ø· JPG/PNG/WebP.", auth:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¬Ù„Ø³Ø©. ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„." },
    cover:"ØºÙ„Ø§Ù", coverMake:"Ø§Ø¬Ø¹Ù„Ù‡ ØºÙ„Ø§ÙØ§Ù‹", del:"Ø­Ø°Ù", choose:"Ø§Ø®ØªØ±"
  },

  de:{ title:"Anzeige erstellen", sub:"PREMIUM: <strong>10 Anzeigen</strong>. FREE: <strong>5 Anzeigen</strong>. Jede Anzeige bleibt <strong>30 Tage</strong> online.", lang:"Sprache",
    l_title:"Titel", h_title:"6â€“80 Zeichen",
    l_description:"Beschreibung", h_description:"30â€“3000 Zeichen; unzulÃ¤ssiger Inhalt wird abgelehnt.",
    l_category:"Kategorie", l_subcategory:"Unterkategorie", l_province:"Provinz", l_district:"Bezirk",
    l_price:"Preis (TRY)", l_stock:"Bestand", l_images:"Fotos (bis zu 5)",
    btn_cancel:"Abbrechen", btn_submit:"Zur PrÃ¼fung einreichen", toast_ok:"Wird nach Admin-Freigabe verÃ¶ffentlicht.",
    placeholders:{ title:"z. B. Handgestrickte Puppe", desc:"Beschreiben Sie Ihr Produkt", district:"Bezirk eingeben", price:"z. B. 350" },
    stock:{var:"Auf Lager", yok:"Nicht vorrÃ¤tig"},
    errors:{ title:"Titel muss mind. 6 Zeichen haben.", desc:"Beschreibung mind. 30 Zeichen.", cat:"Kategorie wÃ¤hlen.", sub:"Unterkategorie wÃ¤hlen.", prov:"Provinz wÃ¤hlen.", dist:"Bezirk eingeben.", price:"Preis muss â‰¥ 1 sein.", files:"Max. 5 Fotos.", filetype:"Nur JPG/PNG/WebP.", auth:"Keine Sitzung. Bitte anmelden." },
    cover:"Cover", coverMake:"Als Cover", del:"LÃ¶schen", choose:"AuswÃ¤hlen"
  },

  az:{ title:"Elan Yarat", sub:"PREMIUM: <strong>10 elan</strong>. FREE: <strong>5 elan</strong>. BÃ¼tÃ¼n elanlar <strong>30 gÃ¼n</strong> aktiv qalÄ±r.", lang:"Dil",
    l_title:"BaÅŸlÄ±q", h_title:"6â€“80 simvol",
    l_description:"AÃ§Ä±qlama", h_description:"30â€“3000 simvol, uyÄŸun olmayan mÉ™zmun rÉ™dd edilir.",
    l_category:"Kateqoriya", l_subcategory:"Alt kateqoriya", l_province:"ÅÉ™hÉ™r / Rayon", l_district:"MÉ™hÉ™llÉ™",
    l_price:"QiymÉ™t (TRY)", l_stock:"Stok", l_images:"ÅÉ™killÉ™r (É™n Ã§ox 5)",
    btn_cancel:"LÉ™ÄŸv et", btn_submit:"TÉ™sdiqÉ™ gÃ¶ndÉ™r", toast_ok:"Admin tÉ™sdiqindÉ™n sonra yayÄ±mlanacaq.",
    placeholders:{ title:"MÉ™s: Æl iÅŸi toxunmuÅŸ oyuncaq", desc:"MÉ™hsulu É™traflÄ± tÉ™svir edin", district:"MÉ™hÉ™llÉ™ni yazÄ±n", price:"MÉ™s: 350" },
    stock:{var:"Var", yok:"Yox"},
    errors:{ title:"BaÅŸlÄ±q É™n azÄ± 6 simvol olmalÄ±dÄ±r.", desc:"AÃ§Ä±qlama É™n azÄ± 30 simvol olmalÄ±dÄ±r.", cat:"Kateqoriya seÃ§in.", sub:"Alt kateqoriya seÃ§in.", prov:"ÅÉ™hÉ™r / rayon seÃ§in.", dist:"MÉ™hÉ™llÉ™ daxil edin.", price:"QiymÉ™t É™n azÄ± 1 olmalÄ±dÄ±r.", files:"Æn Ã§ox 5 ÅŸÉ™kil yÃ¼klÉ™yÉ™ bilÉ™rsiniz.", filetype:"YalnÄ±z JPG/PNG/WebP qÉ™bul edilir.", auth:"Sessiya tapÄ±lmadÄ±. ZÉ™hmÉ™t olmasa daxil olun." },
    cover:"Ã–n ÅŸÉ™kil", coverMake:"Ã–n ÅŸÉ™kil et", del:"Sil", choose:"SeÃ§in"
  },

  fa:{ title:"Ø§ÛŒØ¬Ø§Ø¯ Ø¢Ú¯Ù‡ÛŒ", sub:"ÙˆÛŒÚ˜Ù‡: <strong>Û±Û° Ø¢Ú¯Ù‡ÛŒ</strong>. Ø±Ø§ÛŒÚ¯Ø§Ù†: <strong>Ûµ Ø¢Ú¯Ù‡ÛŒ</strong>. Ù‡Ù…Ù‡ Ø¢Ú¯Ù‡ÛŒâ€ŒÙ‡Ø§ <strong>Û³Û° Ø±ÙˆØ²</strong> ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒÙ…Ø§Ù†Ù†Ø¯.", lang:"Ø²Ø¨Ø§Ù†",
    l_title:"Ø¹Ù†ÙˆØ§Ù†", h_title:"Û¶â€“Û¸Û° Ú©Ø§Ø±Ø§Ú©ØªØ±",
    l_description:"ØªÙˆØ¶ÛŒØ­Ø§Øª", h_description:"Û³Û°â€“Û³Û°Û°Û° Ú©Ø§Ø±Ø§Ú©ØªØ±Ø› Ù…Ø­ØªÙˆØ§ÛŒ Ù†Ø§Ù…Ù†Ø§Ø³Ø¨ Ø±Ø¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯.",
    l_category:"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ", l_subcategory:"Ø²ÛŒØ± Ø¯Ø³ØªÙ‡", l_province:"Ø§Ø³ØªØ§Ù† / Ø´Ù‡Ø±", l_district:"Ù…Ø­Ù„Ù‡",
    l_price:"Ù‚ÛŒÙ…Øª (Ù„ÛŒØ±)", l_stock:"Ù…ÙˆØ¬ÙˆØ¯ÛŒ", l_images:"ØªØµØ§ÙˆÛŒØ± (Ø­Ø¯Ø§Ú©Ø«Ø± Ûµ Ø¹Ø¯Ø¯)",
    btn_cancel:"Ø§Ù†ØµØ±Ø§Ù", btn_submit:"Ø§Ø±Ø³Ø§Ù„ Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ø±Ø³ÛŒ", toast_ok:"Ù¾Ø³ Ø§Ø² ØªØ£ÛŒÛŒØ¯ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ù†ØªØ´Ø± Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯.",
    placeholders:{ title:"Ù…Ø«Ø§Ù„: Ø¹Ø±ÙˆØ³Ú© Ø¨Ø§ÙØªÙ†ÛŒ Ø¯Ø³Øªâ€ŒØ³Ø§Ø²", desc:"Ù…Ø­ØµÙˆÙ„ Ø±Ø§ Ø¨Ø§ Ø¬Ø²Ø¦ÛŒØ§Øª ØªÙˆØ¶ÛŒØ­ Ø¯Ù‡ÛŒØ¯", district:"Ù†Ø§Ù… Ù…Ø­Ù„Ù‡ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯", price:"Ù…Ø«Ø§Ù„: Û³ÛµÛ°" },
    stock:{var:"Ù…ÙˆØ¬ÙˆØ¯", yok:"Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯"},
    errors:{ title:"Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ Û¶ Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø§Ø´Ø¯.", desc:"ØªÙˆØ¶ÛŒØ­Ø§Øª Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ Û³Û° Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø§Ø´Ø¯.", cat:"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.", sub:"Ø²ÛŒØ± Ø¯Ø³ØªÙ‡ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.", prov:"Ø§Ø³ØªØ§Ù† / Ø´Ù‡Ø± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.", dist:"Ù…Ø­Ù„Ù‡ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.", price:"Ù‚ÛŒÙ…Øª Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ Û± Ø¨Ø§Ø´Ø¯.", files:"Ø­Ø¯Ø§Ú©Ø«Ø± Ûµ ØªØµÙˆÛŒØ± Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯.", filetype:"ÙÙ‚Ø· JPG/PNG/WebP Ù‚Ø§Ø¨Ù„ Ù‚Ø¨ÙˆÙ„ Ø§Ø³Øª.", auth:"Ù†Ø´Ø³Øª Ú©Ø§Ø±Ø¨Ø±ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯. Ù„Ø·ÙØ§Ù‹ ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯." },
    cover:"Ú©Ø§ÙˆØ±", coverMake:"Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ú©Ø§ÙˆØ±", del:"Ø­Ø°Ù", choose:"Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯"
  }
};

    // === Kategoriler === (TR / EN / DE / AR + isimlerde AZ / FA destekli) ===
const cats = [
  {
    id:'yemek',
    names:{
      tr:'ğŸ² Yemekler',
      en:'ğŸ² Meals',
      de:'ğŸ² Mahlzeiten',
      ar:'ğŸ² ÙˆØ¬Ø¨Ø§Øª',
      az:'ğŸ² YemÉ™klÉ™r',
      fa:'ğŸ² ØºØ°Ø§Ù‡Ø§'
    },
    subs:[
      ['evyemek','Ev yemekleri','Home-cooked','Hausmannskost','ÙˆØ¬Ø¨Ø§Øª Ù…Ù†Ø²Ù„ÙŠØ©'],
      ['borek','BÃ¶rek-Ã§Ã¶rek','Savory pastries','Herzhaftes GebÃ¤ck','ÙØ·Ø§Ø¦Ø± Ù…Ø§Ù„Ø­Ø©'],
      ['corba','Ã‡orba','Soup','Suppe','Ø´ÙˆØ±Ø¨Ø©'],
      ['zeytiny','ZeytinyaÄŸlÄ±','Olive-oil dishes','Gerichte mit OlivenÃ¶l','Ø£Ø·Ø¨Ø§Ù‚ Ø¨Ø²ÙŠØª Ø§Ù„Ø²ÙŠØªÙˆÙ†'],
      ['pilav','Pilav-makarna','Rice & pasta','Reis & Pasta','Ø£Ø±Ø² ÙˆÙ…Ø¹ÙƒØ±ÙˆÙ†Ø©'],
      ['et','Et-tavuk','Meat & chicken','Fleisch & Huhn','Ù„Ø­ÙˆÙ… ÙˆØ¯Ø¬Ø§Ø¬'],
      ['kahvalti','KahvaltÄ±lÄ±k','Breakfast items','FrÃ¼hstÃ¼ck','Ù…Ø£ÙƒÙˆÙ„Ø§Øª Ø§Ù„Ø¥ÙØ·Ø§Ø±'],
      ['meze','Meze','Mezes','Vorspeisen','Ù…Ù‚Ø¨Ù„Ø§Øª'],
      ['dondur','DondurulmuÅŸ','Frozen','TiefgekÃ¼hlt','Ù…Ø¬Ù…Ø¯'],
      ['cocuk','Ã‡ocuk Ã¶ÄŸÃ¼nleri','Kids meals','Kindergerichte','ÙˆØ¬Ø¨Ø§Øª Ø§Ù„Ø£Ø·ÙØ§Ù„'],
      ['diyetvegf','Diyet/vegan/gf','Diet/Vegan/GF','DiÃ¤t/Vegan/GF','Ø­Ù…ÙŠØ©/Ù†Ø¨Ø§ØªÙŠ/Ø®Ø§Ù„Ù Ù…Ù† Ø§Ù„ØºÙ„ÙˆØªÛŒÙ†']
    ]
  },

  {
    id:'pasta',
    names:{
      tr:'ğŸ‚ Pasta & TatlÄ±',
      en:'ğŸ‚ Cakes & Sweets',
      de:'ğŸ‚ Torten & SÃ¼ÃŸes',
      ar:'ğŸ‚ ÙƒØ¹Ùƒ ÙˆØ­Ù„ÙˆÙŠØ§Øª',
      az:'ğŸ‚ Tort & Åirniyyat',
      fa:'ğŸ‚ Ú©ÛŒÚ© Ùˆ Ø´ÛŒØ±ÛŒÙ†ÛŒ'
    },
    subs:[
      ['yaspasta','YaÅŸ pasta','Fresh cakes','Torten','ÙƒÙŠÙƒ Ø·Ø§Ø²Ø¬'],
      ['kek','Kek-cupcake','Cakes & cupcakes','Kuchen & Cupcakes','ÙƒÙŠÙƒ ÙˆÙƒØ¨ ÙƒÙŠÙƒ'],
      ['kurabiye','Kurabiye','Cookies','Kekse','Ø¨Ø³ÙƒÙˆÙŠØª'],
      ['serbetli','Åerbetli','Syrup desserts','Sirup-Desserts','Ø­Ù„ÙˆÙŠØ§Øª Ø´Ø±Ù‚ÙŠØ©'],
      ['sutlu','SÃ¼tlÃ¼','Milky desserts','Milchige Desserts','Ø­Ù„ÙˆÙŠØ§Øª Ø¨Ø§Ù„Ø­Ù„ÙŠØ¨'],
      ['cheese','Cheesecake','Cheesecake','KÃ¤sekuchen','ØªØ´ÙŠØ²ÙƒÙŠÙƒ'],
      ['diyettat','Diyet tatlÄ±','Diet desserts','DiÃ¤t-Desserts','Ø­Ù„ÙˆÙŠØ§Øª Ù„Ù„Ø­Ù…ÙŠØ©'],
      ['cikolata','Ã‡ikolata/ÅŸekerleme','Chocolate/Candy','Schokolade/SÃ¼ÃŸwaren','Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ©/Ø­Ù„ÙˆÙ‰'],
      ['dogumset','DoÄŸum gÃ¼nÃ¼ setleri','Birthday sets','Geburtstags-Sets','Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯']
    ]
  },

  {
    id:'sos',
    names:{
      tr:'ğŸ«™ ReÃ§el â€¢ TurÅŸu â€¢ Sos',
      en:'ğŸ«™ Jams â€¢ Pickles â€¢ Sauces',
      de:'ğŸ«™ Marmelade â€¢ Eingelegtes â€¢ Saucen',
      ar:'ğŸ«™ Ù…Ø±Ø¨Ù‰ â€¢ Ù…Ø®Ù„Ù„Ø§Øª â€¢ ØµÙ„ØµØ§Øª',
      az:'ğŸ«™ MÃ¼rÉ™bbÉ™ â€¢ TurÅŸu â€¢ Sous',
      fa:'ğŸ«™ Ù…Ø±Ø¨Ø§ â€¢ ØªØ±Ø´ÛŒ â€¢ Ø³Ø³'
    },
    subs:[
      ['recel','ReÃ§el-marmelat','Jam & marmalade','Marmelade','Ù…Ø±Ø¨Ù‰'],
      ['pekmez','Pekmez','Molasses','Traubensirup','Ø¯Ø¨Ø³'],
      ['tursu','TurÅŸu','Pickles','Eingelegtes','Ù…Ø®Ù„Ù„'],
      ['dom','Domates/biber sos','Tomato/pepper sauce','Tomaten/Paprika-Sauce','ØµÙ„ØµØ© Ø·Ù…Ø§Ø·Ù…/ÙÙ„ÙÙ„'],
      ['acios','AcÄ± sos','Hot sauce','Scharfe SoÃŸe','ØµÙ„ØµØ© Ø­Ø§Ø±Ø©'],
      ['salca','SalÃ§a','Paste','Tomatenmark','Ù…Ø¹Ø¬ÙˆÙ†'],
      ['sirke','Sirke','Vinegar','Essig','Ø®Ù„'],
      ['konserve','Konserve','Canned','Konserven','Ù…Ø¹Ù„Ø¨Ø§Øª']
    ]
  },

  {
    id:'yoresel',
    names:{
      tr:'ğŸŒ¾ YÃ¶resel / KÄ±ÅŸlÄ±k',
      en:'ğŸŒ¾ Local / Winter Prep',
      de:'ğŸŒ¾ Regional / Wintervorrat',
      ar:'ğŸŒ¾ Ù…Ø­Ù„ÙŠ / Ù…Ø¤ÙˆÙ†Ø© Ø§Ù„Ø´ØªØ§Ø¡',
      az:'ğŸŒ¾ YÃ¶resel / QÄ±ÅŸlÄ±q',
      fa:'ğŸŒ¾ Ù…Ø­Ù„ÛŒ / ØªØ¯Ø§Ø±Ú© Ø²Ù…Ø³ØªØ§Ù†ÛŒ'
    },
    subs:[
      ['eriste','EriÅŸte','Homemade noodles','Hausgemachte Nudeln','Ø´Ø¹ÙŠØ±ÙŠØ© Ù…Ù†Ø²Ù„ÙŠØ©'],
      ['tarhana','Tarhana','Tarhana','Tarhana','Ø·Ø±Ø®Ø§Ù†Ø©'],
      ['yufka','Yufka','Yufka','Yufka','ÙŠÙˆÙÙƒØ§'],
      ['manti','MantÄ±','Manti dumplings','Manti-Teigtaschen','Ù…Ø§Ù†ØªÙŠ'],
      ['kurut','KurutulmuÅŸ sebze-meyve','Dried veg & fruit','Getrocknetes Obst/GemÃ¼se','Ù…Ø¬ÙÙØ§Øª'],
      ['salca2','SalÃ§a','Paste','Tomatenmark','Ù…Ø¹Ø¬ÙˆÙ†'],
      ['sirke2','Sirke','Vinegar','Essig','Ø®Ù„'],
      ['konserve2','Konserve','Canned','Konserven','Ù…Ø¹Ù„Ø¨Ø§Øª']
    ]
  },

  {
    id:'diet',
    names:{
      tr:'ğŸ¥— Diyet / Vegan / Glutensiz',
      en:'ğŸ¥— Diet / Vegan / Gluten-Free',
      de:'ğŸ¥— DiÃ¤t / Vegan / Glutenfrei',
      ar:'ğŸ¥— Ø­Ù…ÙŠØ© / Ù†Ø¨Ø§ØªÙŠ / Ø®Ø§Ù„Ù Ù…Ù† Ø§Ù„ØºÙ„ÙˆØªÙŠÙ†',
      az:'ğŸ¥— PÉ™hriz / Vegan / GF',
      fa:'ğŸ¥— Ø±Ú˜ÛŒÙ…ÛŒ / ÙˆÚ¯Ø§Ù† / Ø¨Ø¯ÙˆÙ† Ú¯Ù„ÙˆØªÙ†'
    },
    subs:[
      ['fit','Fit tabaklar','Fit plates','Fitness-Teller','Ø£Ø·Ø¨Ø§Ù‚ ØµØ­ÙŠØ©'],
      ['vegan','Vegan yemekler','Vegan meals','Vegane Gerichte','Ø£Ø·Ø¨Ø§Ù‚ Ù†Ø¨Ø§ØªÙŠØ©'],
      ['gf','GF unlu mamuller','GF bakery','Glutenfreie Backwaren','Ù…Ø®Ø¨ÙˆØ²Ø§Øª Ø®Ø§Ù„ÙŠØ© Ù…Ù† Ø§Ù„ØºÙ„ÙˆØªÙŠÙ†'],
      ['sekersiz','Åekersiz tatlÄ±','Sugar-free desserts','Zuckerfreie Desserts','Ø­Ù„ÙˆÙŠØ§Øª Ø¨Ø¯ÙˆÙ† Ø³ÙƒØ±'],
      ['keto','Keto Ã¼rÃ¼n','Keto products','Keto-Produkte','Ù…Ù†ØªØ¬Ø§Øª ÙƒÛŒØªÙˆ'],
      ['protein','Protein atÄ±ÅŸtÄ±rmalÄ±k','Protein snacks','Protein-Snacks','ÙˆØ¬Ø¨Ø§Øª Ø¨Ø±ÙˆØªÙŠÙ†ÙŠØ©']
    ]
  },

  {
    id:'taki',
    names:{
      tr:'ğŸ’ TakÄ±',
      en:'ğŸ’ Jewelry',
      de:'ğŸ’ Schmuck',
      ar:'ğŸ’ Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª',
      az:'ğŸ’ BÉ™zÉ™k',
      fa:'ğŸ’ Ø¬ÙˆØ§Ù‡Ø±Ø§Øª'
    },
    subs:[
      ['bileklik','Bileklik','Bracelet','Armband','Ø³ÙˆØ§Ø±'],
      ['kolye','Kolye','Necklace','Halskette','Ø¹Ù‚Ø¯'],
      ['kupe','KÃ¼pe','Earrings','Ohrringe','Ø£Ù‚Ø±Ø§Ø·'],
      ['yuzuk','YÃ¼zÃ¼k','Ring','Ring','Ø®Ø§ØªÙ…'],
      ['halhal','Halhal','Anklet','FuÃŸkettchen','Ø®Ù„Ø®Ø§Ù„'],
      ['bros','BroÅŸ','Brooch','Brosche','Ø¨Ø±ÙˆØ´'],
      ['set','Setler','Sets','Sets','Ø£Ø·Ù‚Ù…'],
      ['isimli','Ä°simli/kiÅŸiye Ã¶zel','Personalized','Personalisiert','Ù…Ø®ØµØµ Ø¨Ø§Ù„Ø§Ø³Ù…'],
      ['makrome','Makrome','MacramÃ©','Makramee','Ù…ÙƒØ±Ù…ÙŠØ©'],
      ['dogaltas','DoÄŸal taÅŸ','Gemstone','Edelstein','Ø£Ø­Ø¬Ø§Ø± Ø·Ø¨ÙŠØ¹ÙŠØ©'],
      ['recine','ReÃ§ine','Resin','Harz','Ø±ÙŠØ²Ù†'],
      ['telsarma','Tel sarma','Wire wrap','Drahtwickel','Ø³Ù„Ùƒ Ù…Ù„ØªÙ']
    ]
  },

  {
    id:'bebek',
    names:{
      tr:'ğŸ‘¶ Bebek & Ã‡ocuk',
      en:'ğŸ‘¶ Baby & Kids',
      de:'ğŸ‘¶ Baby & Kinder',
      ar:'ğŸ‘¶ Ø±Ø¶Ù‘Ø¹ ÙˆØ£Ø·ÙØ§Ù„',
      az:'ğŸ‘¶ KÃ¶rpÉ™ & UÅŸaq',
      fa:'ğŸ‘¶ Ù†ÙˆØ²Ø§Ø¯ Ùˆ Ú©ÙˆØ¯Ú©'
    },
    subs:[
      ['fig','Hayvan/bebek figÃ¼rleri','Animal/baby figures','Tier/Baby-Figuren','Ù…Ø¬Ø³Ù…Ø§Øª'],
      ['cingirak','Ã‡Ä±ngÄ±rak','Rattle','Rassel','Ø®Ø´Ø®ÛŒØ´Ø©'],
      ['dis','DiÅŸ kaÅŸÄ±yÄ±cÄ± Ã¶rgÃ¼','Teething knit','BeiÃŸring-HÃ¤kel','Ø¹Ø¶Ø§Ø¶Ø© Ù…Ø­Ø§ÙƒØ©'],
      ['bezoy','Bez oyuncak/kitap','Cloth toy/book','Stoffspielzeug/Buch','Ù„Ø¹Ø¨Ø©/ÙƒØªØ§Ø¨ Ù‚Ù…Ø§Ø´ÙŠ'],
      ['montessori','Montessori oyuncak','Montessori toys','Montessori-Spielzeug','Ø£Ù„Ø¹Ø§Ø¨ Ù…Ù†ØªØ³ÙˆØ±ÙŠ'],
      ['set2','Setler','Sets','Sets','Ø£Ø·Ù‚Ù…'],
      ['patik','Ã–rgÃ¼ patik-bere','Knit booties-beanie','GehÃ¤kelte SchÃ¼hchen & MÃ¼tze','Ù‚Ø¨Ø¹Ø§Øª ÙˆØ¬ÙˆØ§Ø±Ø¨ Ù…Ø­Ø§ÙƒØ©'],
      ['battaniye','Bebek battaniyesi','Baby blanket','Babydecke','Ø¨Ø·Ø§Ù†ÙŠØ©'],
      ['onluk','Ã–nlÃ¼k-aÄŸÄ±z bezi','Bib/burp cloth','LÃ¤tzchen/Spucktuch','Ù…Ø±ÙŠÙ„Ø©/Ù…Ù†Ø¯ÙŠÙ„'],
      ['lohusa','Lohusa seti','Maternity set','Wochenbett-Set','Ø¹Ø¯Ø© Ù†ÙØ§Ø³'],
      ['sac','SaÃ§ aksesuarÄ±','Hair accessory','Haaraccessoire','Ø§ÙƒØ³Ø³ÙˆØ§Ø± Ø´Ø¹Ø±'],
      ['giyim','El emeÄŸi kÄ±yafet','Handmade clothing','Handgemachte Kleidung','Ù…Ù„Ø§Ø¨Ø³ ÙŠØ¯ÙˆÙŠØ©']
    ]
  },

  {
    id:'orgu',
    names:{
      tr:'ğŸ§¶ Ã–rgÃ¼ / Triko',
      en:'ğŸ§¶ Knitting / Crochet',
      de:'ğŸ§¶ Strick / HÃ¤keln',
      ar:'ğŸ§¶ Ø­ÙŠØ§ÙƒØ© / ÙƒØ±ÙˆØ´ÙŠÙ‡',
      az:'ğŸ§¶ Toxuma / Triko',
      fa:'ğŸ§¶ Ø¨Ø§ÙØªÙ†ÛŒ / Ù‚Ù„Ø§Ø¨â€ŒØ¨Ø§ÙÛŒ'
    },
    subs:[
      ['hirka','HÄ±rka','Cardigan','Strickjacke','ÙƒØ§Ø±Ø¯ÙŠØºØ§Ù†'],
      ['kazak','Kazak','Sweater','Pullover','ÙƒÙ†Ø²Ø©'],
      ['atkibere','AtkÄ±-bere','Scarf & beanie','Schal & MÃ¼tze','ÙˆØ´Ø§Ø­ ÙˆÙ‚Ø¨Ø¹Ø©'],
      ['panco','PanÃ§o','Poncho','Poncho','Ø¨ÙˆÙ†Ø´Ùˆ'],
      ['sal','Åal','Shawl','Schal','Ø´Ø§Ù„'],
      ['corap','Ã‡orap','Socks','Socken','Ø¬ÙˆØ§Ø±Ø¨'],
      ['lif','Lif takÄ±mÄ±','Bath set','Badeset','Ø·Ù‚Ù… Ù„ÙŠÙ'],
      ['bebektk','Bebek takÄ±mÄ±','Baby set','Baby-Set','Ø·Ù‚Ù… Ø£Ø·ÙØ§Ù„'],
      ['yelek','Yelek','Vest','Weste','ØµØ¯ÙŠØ±ÙŠ'],
      ['kirlen','KÄ±rlent-Ã¶rtÃ¼','Cushion/cover','Kissen/Decke','ÙˆØ³Ø§Ø¯Ø©/ØºØ·Ø§Ø¡'],
      ['igneoyasi','Ä°ÄŸne oyasÄ±','Needle lace','Nadelspitze','Ø£ÙˆÙŠØ§ (Ä°ÄŸne)']
    ]
  },

  {
    id:'terzi',
    names:{
      tr:'âœ‚ï¸ DikiÅŸ / Terzilik',
      en:'âœ‚ï¸ Sewing / Tailoring',
      de:'âœ‚ï¸ NÃ¤hen / Schneiderei',
      ar:'âœ‚ï¸ Ø®ÙŠØ§Ø·Ø© / ØªÙØµÛŒÙ„',
      az:'âœ‚ï¸ TikiÅŸ / DÉ™rzilik',
      fa:'âœ‚ï¸ Ø®ÛŒØ§Ø·ÛŒ / Ø¯ÙˆØ®Øª Ùˆ Ø¯ÙˆØ²'
    },
    subs:[
      ['paca','PaÃ§a/onarÄ±m','Hem/repair','Saum/Reparatur','Ø«Ù†ÙŠ/ØªØµÙ„ÙŠØ­'],
      ['fermuar','Fermuar deÄŸiÅŸimi','Zipper change','ReiÃŸverschluss-Wechsel','ØªØ¨Ø¯ÙŠÙ„ Ø³Ø­Ø§Ø¨'],
      ['perde','Perde dikiÅŸi','Curtain sewing','Vorhang-NÃ¤hen','Ø®ÙŠØ§Ø·Ø© Ø³ØªØ§Ø¦Ø±'],
      ['nevresim','Nevresim-yastÄ±k','Bedding & pillows','BettwÃ¤sche/Kissen','Ù…ÙØ§Ø±Ø´ ÙˆÙˆØ³Ø§Ø¦Ø¯'],
      ['masa','Masa Ã¶rtÃ¼sÃ¼','Tablecloth','Tischtuch','Ù…ÙØ±Ø´ Ø·Ø§ÙˆÙ„Ø©'],
      ['ozel','Ã–zel dikim','Custom tailoring','MaÃŸanfertigung','ØªÙØµÙŠÙ„ Ø®Ø§Øµ'],
      ['kostum','KostÃ¼m','Costume','KostÃ¼m','Ø²ÙŠÙ‘']
    ]
  },

  {
    id:'makrome',
    names:{
      tr:'ğŸ§µ Makrome & Dekor',
      en:'ğŸ§µ MacramÃ© & Decor',
      de:'ğŸ§µ Makramee & Deko',
      ar:'ğŸ§µ Ù…ÙƒØ±Ù…ÙŠØ© ÙˆØ¯ÙŠÙƒÙˆØ±',
      az:'ğŸ§µ Makrame & Dekor',
      fa:'ğŸ§µ Ù…Ú©Ø±Ù…Ù‡ Ùˆ Ø¯Ú©ÙˆØ±'
    },
    subs:[
      ['duvar','Duvar sÃ¼sÃ¼','Wall hanging','Wandbehang','Ø¯ÙŠÙƒÙˆØ± Ø¬Ø¯Ø§Ø±ÙŠ'],
      ['saksi','SaksÄ± askÄ±sÄ±','Plant hanger','PflanzenhÃ¤nger','Ø­Ø§Ù…Ù„ Ù†Ø¨Ø§ØªØ§Øª'],
      ['anahtar','AnahtarlÄ±k','Keychain','SchlÃ¼sselanhÃ¤nger','Ù…ÙŠØ¯Ø§Ù„ÙŠØ©'],
      ['avize','Avize','Chandelier','Deckenleuchte','Ø«Ø±ÙŠØ§'],
      ['runner','Amerikan servis/runner','Placemat/runner','Tischset/Runner','Ù…ÙØ±Ø´ Ø³ÙØ±Ø©'],
      ['sepet','Sepet','Basket','Korb','Ø³Ù„Ø©'],
      ['raf','Raf/duvar dekoru','Shelf/wall decor','Regal/Wanddeko','Ø±Ù/Ø¯ÙŠÙƒÙˆØ±']
    ]
  },

  {
    id:'evdekor',
    names:{
      tr:'ğŸ  Ev Dekor & Aksesuar',
      en:'ğŸ  Home Decor & Accessories',
      de:'ğŸ  Wohndeko & Accessoires',
      ar:'ğŸ  Ø¯ÙŠÙƒÙˆØ± Ø§Ù„Ù…Ù†Ø²Ù„ ÙˆØ¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª',
      az:'ğŸ  Ev Dekoru & Aksesuar',
      fa:'ğŸ  Ø¯Ú©ÙˆØ± Ø®Ø§Ù†Ù‡ Ùˆ Ø§Ú©Ø³Ø³ÙˆØ±ÛŒ'
    },
    subs:[
      ['kece','KeÃ§e iÅŸleri','Felt crafts','Filzarbeiten','Ø£Ø¹Ù…Ø§Ù„ Ù„Ø¨Ù‘Ø§Ø¯'],
      ['kirlent','KÄ±rlent','Cushion','Kissen','ÙˆØ³Ø§Ø¯Ø©'],
      ['kapi','KapÄ± sÃ¼sÃ¼','Door ornament','TÃ¼rkranz','Ø²ÙŠÙ†Ø© Ø¨Ø§Ø¨'],
      ['tepsi','Tepsi sÃ¼sleme','Tray decoration','Tablett-Deko','ØªØ²ÙŠÙŠÙ† ØµÙŠÙ†ÙŠØ©'],
      ['cerceve','Ã‡erÃ§eve','Frame','Rahmen','Ø¥Ø·Ø§Ø±'],
      ['ruya','RÃ¼ya kapanÄ±','Dreamcatcher','TraumfÃ¤nger','ØµØ§Ø¦Ø¯ Ø£Ø­Ù„Ø§Ù…'],
      ['tablo','Tablo','Tableau','Bild','Ù„ÙˆØ­Ø©']
    ]
  },

  {
    id:'mum',
    names:{
      tr:'ğŸ•¯ï¸ Mum & Kokulu ÃœrÃ¼nler',
      en:'ğŸ•¯ï¸ Candles & Fragranced',
      de:'ğŸ•¯ï¸ Kerzen & Duft',
      ar:'ğŸ•¯ï¸ Ø´Ù…ÙˆØ¹ ÙˆÙ…Ù†ØªØ¬Ø§Øª Ø¹Ø·Ø±ÙŠØ©',
      az:'ğŸ•¯ï¸ Åamlar & ÆtirlÉ™r',
      fa:'ğŸ•¯ï¸ Ø´Ù…Ø¹ Ùˆ Ù…Ø­ØµÙˆÙ„Ø§Øª Ù…Ø¹Ø·Ø±'
    },
    subs:[
      ['soya','Soya/balmumu mum','Soy/beeswax candle','Soja/Bienenwachs-Kerze','Ø´Ù…ÙˆØ¹ ØµÙˆÙŠØ§/Ø´Ù…Ø¹ Ø§Ù„Ø¹Ø³Ù„'],
      ['tas','Kokulu taÅŸ','Scented stone','Duftstein','Ø­Ø¬Ø± Ù…Ø¹Ø·Ø±'],
      ['sprey','Oda spreyi','Room spray','Raumspray','Ù…Ø¹Ø·Ø± Ø¬Ùˆ'],
      ['tutsu','TÃ¼tsÃ¼','Incense','RÃ¤ucherwerk','Ø¨Ø®ÙˆØ±'],
      ['jel','Jel mum','Gel candle','Gelkerze','Ø´Ù…Ø¹Ø© Ø¬Ù„'],
      ['hediye','Hediye seti','Gift set','Geschenkset','Ø·Ù‚Ù… Ù‡Ø¯Ø§ÙŠØ§']
    ]
  },

  {
    id:'kozmetik',
    names:{
      tr:'ğŸ§¼ DoÄŸal Sabun & Kozmetik',
      en:'ğŸ§¼ Natural Soap & Cosmetics',
      de:'ğŸ§¼ NatÃ¼rliche Seife & Kosmetik',
      ar:'ğŸ§¼ ØµØ§Ø¨ÙˆÙ† Ø·Ø¨ÙŠØ¹ÙŠ ÙˆÙ…Ø³ØªØ­Ø¶Ø±Ø§Øª',
      az:'ğŸ§¼ TÉ™bii Sabun & Kosmetika',
      fa:'ğŸ§¼ ØµØ§Ø¨ÙˆÙ† Ø·Ø¨ÛŒØ¹ÛŒ Ùˆ Ù„ÙˆØ§Ø²Ù… Ø¢Ø±Ø§ÛŒØ´ÛŒ'
    },
    subs:[
      ['zeytin','ZeytinyaÄŸlÄ± sabun','Olive-oil soap','OlivenÃ¶lseife','ØµØ§Ø¨ÙˆÙ† Ø²ÙŠØª Ø²ÙŠØªÙˆÙ†'],
      ['bitkisel','Bitkisel sabunlar','Herbal soaps','KrÃ¤uterseifen','ØµØ§Ø¨ÙˆÙ† Ø¹Ø´Ø¨ÙŠ'],
      ['sampuan','KatÄ± ÅŸampuan','Solid shampoo','Festes Shampoo','Ø´Ø§Ù…Ø¨Ùˆ ØµÙ„Ø¨'],
      ['balm','Dudak balmÄ±','Lip balm','Lippenbalsam','Ø¨Ù„Ø³Ù… Ø´ÙØ§Ù‡'],
      ['krem','Krem/merhem','Cream/ointment','Creme/Salbe','ÙƒØ±ÙŠÙ…/Ù…Ø±Ù‡Ù…'],
      ['banyotuzu','Banyo tuzu','Bath salt','Badesalz','Ù…Ù„Ø­ Ø§Ù„Ø§Ø³ØªØ­Ù…Ø§Ù…'],
      ['lavanta','Lavanta kesesi','Lavender sachet','LavendelsÃ¤ckchen','ÙƒÙŠØ³ Ù„Ø§ÙÙ†Ø¯Ø±']
    ]
  },

  {
    id:'amigurumi',
    names:{
      tr:'ğŸ§¸ Amigurumi & Oyuncak (dekor)',
      en:'ğŸ§¸ Amigurumi & Decorative Toys',
      de:'ğŸ§¸ Amigurumi & Deko-Spielzeug',
      ar:'ğŸ§¸ Ø£Ù…ÙŠØ¬ÙˆØ±ÙˆÙ…ÙŠ ÙˆØ£Ù„Ø¹Ø§Ø¨ Ø¯ÙŠÙƒÙˆØ±ÙŠØ©',
      az:'ğŸ§¸ Amigurumi & OyunÃ§aq (dekor)',
      fa:'ğŸ§¸ Ø¢Ù…ÛŒÚ¯ÙˆØ±ÙˆÙ…ÛŒ Ùˆ Ø§Ø³Ø¨Ø§Ø¨â€ŒØ¨Ø§Ø²ÛŒ Ø¯Ú©ÙˆØ±ÛŒ'
    },
    subs:[
      ['anahtar2','AnahtarlÄ±k','Keychain','SchlÃ¼sselanhÃ¤nger','Ù…ÙŠØ¯Ø§Ù„ÙŠØ©'],
      ['magnet','Magnet','Magnet','Magnet','Ù…ØºÙ†Ø§Ø·ÙŠØ³'],
      ['kolek','Koleksiyon figÃ¼rÃ¼','Collectible figure','Sammelfigur','Ù…Ø¬Ø³Ù‘Ù… Ù…Ø¬Ù…ÙˆØ¹Ø§Øª'],
      ['dekorbebek','Dekor bebek/karakter','Decor doll/character','Deko-Puppe/Figur','Ø¯Ù…ÙŠØ©/Ø´Ø®ØµÙŠØ© Ø¯ÙŠÙƒÙˆØ±']
    ]
  }

];

    const COUNTRY_REGIONS = {
  TR: ["Adana","AdÄ±yaman","Afyonkarahisar","AÄŸrÄ±","Aksaray","Amasya","Ankara","Antalya","Ardahan","Artvin","AydÄ±n","BalÄ±kesir","BartÄ±n","Batman","Bayburt","Bilecik","BingÃ¶l","Bitlis","Bolu","Burdur","Bursa","Ã‡anakkale","Ã‡ankÄ±rÄ±","Ã‡orum","Denizli","DiyarbakÄ±r","DÃ¼zce","Edirne","ElazÄ±ÄŸ","Erzincan","Erzurum","EskiÅŸehir","Gaziantep","Giresun","GÃ¼mÃ¼ÅŸhane","Hakkari","Hatay","IÄŸdÄ±r","Isparta","Ä°stanbul","Ä°zmir","KahramanmaraÅŸ","KarabÃ¼k","Karaman","Kars","Kastamonu","Kayseri","KÄ±rÄ±kkale","KÄ±rklareli","KÄ±rÅŸehir","Kilis","Kocaeli","Konya","KÃ¼tahya","Malatya","Manisa","Mardin","Mersin","MuÄŸla","MuÅŸ","NevÅŸehir","NiÄŸde","Ordu","Osmaniye","Rize","Sakarya","Samsun","Siirt","Sinop","Sivas","ÅanlÄ±urfa","ÅÄ±rnak","TekirdaÄŸ","Tokat","Trabzon","Tunceli","UÅŸak","Van","Yalova","Yozgat","Zonguldak"],
  
  KKTC: ["GazimaÄŸusa","Girne","GÃ¼zelyurt","Ä°skele","Lefke","LefkoÅŸa"],

  CY: ["Famagusta","Kyrenia","Larnaca","Limassol","Nicosia","Paphos"],

  DE: ["Baden-WÃ¼rttemberg","Bayern","Berlin","Brandenburg","Bremen","Hamburg","Hessen","Mecklenburg-Vorpommern","Niedersachsen","Nordrhein-Westfalen","Rheinland-Pfalz","Saarland","Sachsen","Sachsen-Anhalt","Schleswig-Holstein","ThÃ¼ringen"],

  AZ: ["AbÅŸeron","AÄŸcabÉ™di","AÄŸdam","AÄŸdaÅŸ","AÄŸstafa","AÄŸsu","Astara","BalakÉ™n","BÉ™rdÉ™","BeylÉ™qan","BilÉ™suvar","CÉ™brayÄ±l","CÉ™lilabad","DaÅŸkÉ™sÉ™n","FÃ¼zuli","GÉ™dÉ™bÉ™y","GÉ™ncÉ™","GÃ¶ygÃ¶l","GÃ¶yÃ§ay","HacÄ±qabul","Ä°miÅŸli","Ä°smayÄ±llÄ±","KÉ™lbÉ™cÉ™r","KÃ¼rdÉ™mir","LaÃ§Ä±n","Lerik","LÉ™nkÉ™ran","MasallÄ±","MingÉ™Ã§evir","Naftalan","NaxÃ§Ä±van","NeftÃ§ala","OÄŸuz","Ordubad","QÉ™bÉ™lÉ™","Qax","Qazax","Qobustan","Quba","QubadlÄ±","Qusar","SaatlÄ±","Sabirabad","Salyan","Samux","SiyÉ™zÉ™n","SumqayÄ±t","Åabran","Åahbuz","ÅamaxÄ±","ÅÉ™ki","ÅÉ™mkir","ÅÉ™rur","Åirvan","TÉ™rtÉ™r","Tovuz","Ucar","XaÃ§maz","XankÉ™ndi","XÄ±zÄ±","XocalÄ±","XocavÉ™nd","YardÄ±mlÄ±","Yevlax","Zaqatala","ZÉ™ngilan","ZÉ™rdab"],

  IR: ["Tahran","Ä°sfahan","Åiraz","Erdebil","Elburz","Kazvin","Rezevi Horasan","Gilan","Kerman","KermanÅŸah","Kuzistan","Kohgiluyeh","DoÄŸu Azerbaycan","BatÄ± Azerbaycan","Mazenderan","Yezd","Kum","Hemedan","Lorestan","Semnan","Sistan-BeluÃ§istan","KirmanÅŸah"]
};

    // === Helpers ===
    window.$ = (id)=> document.getElementById(id);
    function setLang(lng){
      const t = i18n[lng]||i18n.tr; document.documentElement.lang=lng; document.documentElement.dir=(lng==='ar')?'rtl':'ltr';
      $('t_title').textContent=t.title; $('t_sub').innerHTML=t.sub; $('t_lang').textContent=t.lang;
      $('l_title').textContent=t.l_title; $('h_title').textContent=t.h_title;
      $('l_description').textContent=t.l_description; $('h_description').textContent=t.h_description;
      $('l_category').textContent=t.l_category; $('l_subcategory').textContent=t.l_subcategory;
      $('l_province').textContent=t.l_province; $('l_district').textContent=t.l_district;
      $('l_price').textContent=t.l_price; $('l_stock').textContent=t.l_stock; $('l_images').textContent=t.l_images;
      $('b_cancel').textContent=t.btn_cancel; $('b_submit').textContent=t.btn_submit;
      $('title').placeholder=t.placeholders.title; $('description').placeholder=t.placeholders.desc; $('districtInput').placeholder=t.placeholders.district; $('price').placeholder=t.placeholders.price;
      const stock=$('stock'); stock.options[0].textContent=t.stock.var; stock.options[1].textContent=t.stock.yok;
      rebuildCategories(lng); fillProvinces(lng);
      window.__t = t; $('toast').textContent = t.toast_ok;
    }

    function rebuildCategories(lng){
      const selCat=$('category'); const selSub=$('subcategory');
      selCat.innerHTML = `<option value="" disabled selected>${i18n[lng].choose}</option>` +
        cats.map(c=>`<option value="${c.id}">${c.names[lng]||c.names.tr}</option>`).join('');
      selSub.disabled = true; selSub.innerHTML = `<option value="" disabled selected>${i18n[lng].choose}</option>`;
      selCat.onchange = ()=>{
        const c=cats.find(x=>x.id===selCat.value); selSub.disabled = !c;
        const idx = {tr:1,en:2,de:3,ar:4}[lng] || 1;
        selSub.innerHTML = `<option value="" disabled selected>${i18n[lng].choose}</option>` +
          (c? c.subs.map(s=>`<option value="${s[0]}">${s[idx]}</option>`).join('') : '');
      };
    }
function fillProvinces(){
  const lng = document.documentElement.lang || 'tr';
  const country = $('country').value;
  const selProv = $('province');
  const choose = i18n[lng].choose || 'SeÃ§iniz';

  const regions = COUNTRY_REGIONS[country] || [];

  // Ä°l listesini doldur
  selProv.innerHTML =
    `<option value="" disabled selected>${choose}</option>` +
    regions.map(p => `<option value="${p}">${p}</option>`).join('');

  // Ãœlke deÄŸiÅŸtiÄŸinde ilÃ§e alanÄ±nÄ± sÄ±fÄ±rla
  $('districtInput').value = "";
}

    // === FotoÄŸraf Ã–nizleme + Kapak + Sil ===
    const inputEl = $('images');
    const previewsEl = $('previews');
    let __items = [];          // [{file: File, dataUrl: string}]
    let __coverIndex = -1;     // -1 yok, 0..n kapak

    function syncInputFromSelected(){
      const dt = new DataTransfer();
      __items.forEach(it=> dt.items.add(it.file));
      inputEl.files = dt.files;
    }

    function renderPreviews(){
      const t = window.__t || i18n.tr;
      previewsEl.innerHTML = '';
      __items.forEach((it, idx)=>{
        const box = document.createElement('div');
        box.className = 'thumb' + (idx===__coverIndex? ' coverSel':'');

        const img = document.createElement('img');
        img.alt = `${t.l_images} ${idx+1}`;
        img.src = it.dataUrl || 'data:image/svg+xml;utf8,'+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200"><rect width="100%" height="100%" fill="#111827"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="#9CA3AF" font-family="Arial" font-size="12">No Preview</text></svg>');
        box.appendChild(img);

        if(idx===__coverIndex){
          const badge=document.createElement('div');
          badge.className='cover';
          badge.textContent=t.cover;
          box.appendChild(badge);
        }

        const btns = document.createElement('div');
        btns.className = 'btns';
        const bCover = document.createElement('button');
        bCover.type='button'; bCover.textContent = t.coverMake;
        bCover.onclick = (ev)=>{ ev.preventDefault(); __coverIndex = idx; renderPreviews(); };
        const bDel = document.createElement('button');
        bDel.type='button'; bDel.textContent = t.del;
        bDel.onclick = (ev)=>{ ev.preventDefault(); __items.splice(idx,1); if(__items.length===0){ __coverIndex=-1; } else if(__coverIndex===idx){ __coverIndex=0; } else if(__coverIndex>idx){ __coverIndex--; } syncInputFromSelected(); renderPreviews(); };
        btns.appendChild(bCover);
        btns.appendChild(bDel);
        box.appendChild(btns);

        previewsEl.appendChild(box);
      });
    }

    inputEl.addEventListener('change', ()=>{
      const files = Array.from(inputEl.files || []).slice(0,5);
      __items = [];
      if(files.length){ __coverIndex = 0; }
      let done = 0;
      files.forEach((f, i)=>{
        const fr = new FileReader();
        fr.onload = (e)=>{ __items[i] = { file: f, dataUrl: e.target.result }; done++; if(done===files.length) { syncInputFromSelected(); renderPreviews(); } };
        fr.onerror = ()=>{ __items[i] = { file: f, dataUrl: '' }; done++; if(done===files.length) { syncInputFromSelected(); renderPreviews(); } };
        fr.readAsDataURL(f);
      });
      if(files.length===0){ previewsEl.innerHTML=''; __coverIndex=-1; }
    });

   // BaÅŸlangÄ±Ã§ dili TR ve kapatma
const sel = $('langSel');
sel.value = 'tr';
setLang('tr');

// DÄ°L DEÄÄ°ÅTÄ°ÄÄ°NDE METÄ°NLERÄ° GÃœNCELLE
sel.addEventListener('change', () => {
  setLang(sel.value);
});

const closeBtn = $('closeBtn');
if (closeBtn) {
  closeBtn.onclick = () => { window.location.href = 'home.html'; };
}

$('country').addEventListener('change', fillProvinces);
fillProvinces();          // Ã¼lke + il listesini doldur
rebuildCategories('tr');  // kategorileri ilk yÃ¼klemede TR ile kur

  })();
  </script>

  <!-- Firestore + BULUT (Cloudinary) yÃ¼kleme -->
  <script type="module">
    // ==== Bulut AYARLARI (yalnÄ±zca bu 3 sabiti kendi hesabÄ±na gÃ¶re dÃ¼zenle) ====
    const CLOUD_NAME    = 'dbntnzogo';           // Bulut adÄ±nÄ±z (Ã¶r: dbntnzogo)
    const UPLOAD_PRESET = 'unsigned_avatars';   // Ä°mzalanmamÄ±ÅŸ preset (tarayÄ±cÄ±dan gÃ¼venli yÃ¼kleme iÃ§in)
    const API_KEY       = '321492881526576';     // Ä°steÄŸe baÄŸlÄ±; unsigned iÃ§in ÅŸart deÄŸil
    // GÃœVENLÄ°K: API SECRET asla tarayÄ±cÄ±ya koyulmaz.

    // ==== firebase-init.js iÃ§inden gelmesi beklenen yardÄ±mcÄ±lar ====
    const app   = window.app   || window.firebaseApp;
    const auth  = window.auth  || (window.firebase && window.firebase.auth);
    const db    = window.db    || (window.firebase && window.firebase.db);

    // Firestore kÃ¶prÃ¼leri (compat/modular)
    function serverNow(){ return (window.firebase && window.firebase.serverTimestamp) ? window.firebase.serverTimestamp() : new Date(); }
    async function setDocX(path, data){
      if (window.firebase && window.firebase.setDoc) return window.firebase.setDoc(path, data);
      if (window._setDoc) return window._setDoc(path, data);
      throw new Error('setDoc fonksiyonu yok (firebase-init.js kontrol edin)');
    }

    function getAuthUser(){ return (auth && auth.currentUser) ? auth.currentUser : null; }

    // === Cloudinary'ye Ã§oklu foto yÃ¼kleme (unsigned) ===
    async function uploadAllToCloud(uid, docId, files){
      const urls = [];
      if(!files || !files.length) return urls;
      const folder = `listings/${uid}/${docId}`; // Medya klasÃ¶rÃ¼
      for (let i=0;i<files.length;i++){
        const f = files[i];
        const form = new FormData();
        form.append('file', f);
        form.append('upload_preset', UPLOAD_PRESET);
        form.append('folder', folder);
        // form.append('api_key', API_KEY); // unsigned iÃ§in gerekmez
        // form.append('context', `alt=${encodeURIComponent(f.name)}`);

        const res = await fetch(`https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`, {
          method: 'POST', body: form
        });
        if(!res.ok){
          const txt = await res.text();
          throw new Error('Buluta yÃ¼kleme hatasÄ±: '+txt);
        }
        const json = await res.json();
        urls.push(json.secure_url || json.url);
      }
      return urls;
    }

    // === Form iÅŸlemleri ===
    const $ = (id)=> document.getElementById(id);
    const form = $('listingForm');
    const msg  = $('msg');
    const toast = $('toast');

    function t(){ return (window.__t) || { errors:{}, toast_ok:'Kaydedildi.' }; }
    function showMsg(text, ok=false){ msg.style.color = ok ? 'var(--ok)' : 'var(--muted)'; msg.textContent = text; }
    function showToast(text){
      toast.textContent = text || t().toast_ok; toast.style.opacity = '1'; toast.style.transform = 'translateX(-50%) scale(1)';
      setTimeout(()=>{ toast.style.opacity='0'; toast.style.transform='translateX(-50%) scale(0.95)'; }, 1800);
    }
    function getCoverIndex(){
      const list = Array.from(document.querySelectorAll('#previews .thumb'));
      const i = list.findIndex(el => el.querySelector('.cover'));
      return (i >= 0 ? i : (list.length ? 0 : -1));
    }

    form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      const user = getAuthUser();
      if(!user){ showMsg(t().errors.auth || 'GiriÅŸ yapÄ±n.'); return; }

      const lang = document.documentElement.lang || 'tr';
      const country = $('country').value;
      const title = $('title').value.trim();
      const description = $('description').value.trim();
      const category = $('category').value;
      const subcategory = $('subcategory').value;
      const province = $('province').value;
      const district = $('districtInput').value.trim();
      const price = parseInt(($('price').value||'0'), 10) || 0;
      const stock = $('stock').value;

      if(title.length < 6){ showMsg(t().errors.title || 'BaÅŸlÄ±k kÄ±sa.'); return; }
      if(description.length < 30){ showMsg(t().errors.desc || 'AÃ§Ä±klama kÄ±sa.'); return; }
      if(!category){ showMsg(t().errors.cat || 'Kategori seÃ§in.'); return; }
      if(!subcategory){ showMsg(t().errors.sub || 'Alt kategori seÃ§in.'); return; }
      if(!country){ showMsg(t().errors.prov || 'Ãœlke seÃ§in.'); return; }
      if(!province){ showMsg(t().errors.prov || 'Ä°l seÃ§in.'); return; }
      if(!district){ showMsg(t().errors.dist || 'Ä°lÃ§e girin.'); return; }
      if(price < 1){ showMsg(t().errors.price || 'Fiyat en az 1.'); return; }

      const files = Array.from(($('images').files||[])).slice(0,5);
      if(files.length > 5){ showMsg(t().errors.files || 'En fazla 5 foto.'); return; }
      for(const f of files){ if(!/image\/(jpeg|png|webp)/i.test(f.type)){ showMsg(t().errors.filetype || 'Sadece JPG/PNG/WebP.'); return; } }

      const submitBtn = $('b_submit');
      submitBtn.disabled = true; submitBtn.textContent = 'Kaydediliyorâ€¦';
      showMsg('');

      try{
        // doc id oluÅŸtur
        const autoId = (window.crypto && crypto.randomUUID) ? crypto.randomUUID() : (Date.now().toString(36)+Math.random().toString(36).slice(2,8));
        const docPath = `listings/${autoId}`;

        // 1) FOTOÄRAFLARI BULUTA YÃœKLE
        let photoURLs = [];
        try{ photoURLs = await uploadAllToCloud(user.uid, autoId, files); }
        catch(upErr){ console.warn('upload fail', upErr); showMsg('FotoÄŸraf yÃ¼kleme hatasÄ±: '+upErr.message); }

        const coverIndex = (getCoverIndex());
        const coverUrl = (photoURLs[coverIndex] || photoURLs[0] || '');

        // 2) VERÄ°LERÄ° FIRESTORE'A KAYDET
const payload = {
  title, description, category, subcategory,
  country,                 // â˜… EKLEDÄ°ÄÄ°MÄ°Z SATIR
  province, district, price, stock,
  status: 'pending',
  showcase: false, showcasePending: false,
  photos: photoURLs,
  coverIndex: (coverIndex>=0?coverIndex:0),
  coverUrl: coverUrl,
  userId: user.uid,
  locale: lang,
  createdAt: serverNow(),
  updatedAt: serverNow()
};
await setDocX(docPath, payload);

        showToast(t().toast_ok || 'Kaydedildi.');
        form.reset();
setLang(document.documentElement.lang);
        setTimeout(()=>{ window.location.href = 'profile.html'; }, 900);
      }catch(err){
        console.error(err);
        showMsg('Kaydetme hatasÄ±: '+ (err && err.message ? err.message : err));
      }finally{
        submitBtn.disabled = false; submitBtn.textContent = (window.__t?.btn_submit) || 'Kaydet';
      }
    });

  </script>
</body>
</html>
